<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="/style.css"/>
    <script src="scripts/ilp.js"></script>
</head>

<body>

    <div class="navbar">
        <h1><a href="/dashboard">CODE4000</a></h1>
        <ul>
            <li><a href="/reviews">Reviews</a></li>
            <li><a href="/techskills">Tech skills</a></li>
            <li><a href="/softskills">Soft skills</a></li>
            <li><a href="/ilp">ILP</a></li>
            <li><a class="classroom-rules" href="/rules">Classroom rules</a></li>
          </ul>
    </div>

    <div class="grid-ilp">
        <div class="sidebar">
            <div id="fixed-or-not" class="">
            <h1 id="ilp-hello-name">Hello,
                <%= name %>!
            </h1>
        <div id="current-modules"> 
            <p>Your current modules: </p>
            <% for (t in targets["current"]) { %>
                <div id="thumbnail<%= t %>" class="sidebar-single-thumbnail">
                <h3><%= targets["full_title"][t] %></h3>
                <p>Target date: <%= targets["current"][t] %></p>
                <button value='<%= t %>' class="thumbnail-view-button" onclick="showTargets()">View</button>
                </div>
                <%}%>
            <div style="justify-content: center;"><button id="add-module-button" onclick="addModule()">Add</button></div>
        </div>
   

        <div id="add-module">      
            <p>Select a module: </p>

            <% for (t in targets["full_title"]) { %>
                <% if (!targets["current"][t]) { %>
                <button value='<%= t %>' onclick="displayModuleDescription()"><%= targets["full_title"][t] %></button>
               
                <%}%>
                <%}%>
            </div>
            
            <button id="modules-menu-cancel" onclick="hideModuleDescription()">Cancel</button>
        
           <div class="saved-status-container">
            <div>
                <button class="sidebar-buttons" id="ilp-cancel-button" style="display:none" onclick="cancel()">Exit</button>
                <button class="sidebar-buttons" id="ilp-save-button" style="display:none" onclick="save()">Save</button>
            </div>
            <div class="saved-status-container">
                <i id="ilp-saved" style="display:none">saved</i>
                <i id="ilp-not-saved" style="display:none">not saved</i>
            </div>
        </div> 
        </div>
        </div>
    <br/>
        
    
    <div id="ilp-targets" class="grid-ilp-col-1">
        <i id="ilp-select-module"><--- Select a module from sidebar</i>
            <% for (t in targets) { %>
                <% if (t != "prison_number") { %>
                <table id='table<%= t %>' class="single-module">
                    <td><div class="col-1-header"><h2><%= targets["full_title"][t] %></h2></div></td>
                <tr>  
                    <% for (i in targets[t]) { %>      
                    <td id="<%= i %>" class="<%= targets[t][i] %>" onclick="change()"><%= i %></td>
                    
        </tr>
        <%}%>
        <%}%>
        </table>
      <%}%>
    
          
      <% for (t in targets) { %>
        <% if (t != "prison_number") { %>
        <table>
            <tr>
            <td style="display: none;" id="description<%= t %>" class="descriptions"><div><p><%= targets["descriptions"][t] %></p>
            <button onclick="hideModuleDescription()">Cancel</button>
            <form action="/ilp" method="POST">
                <input type="hidden" name="module" value="<%= t %>">
                <input type="hidden" name="requestFromSidebar" value="true">
                <input type="date" name="date" required>
                <input type="submit" onclick="displayCurrentModules()" value="Add">
            </form>
        </div>
        </td>
 
</tr>
<%}%>
</table>
<%}%>
    
   
    </div>


    

</div>

</body>

</html>